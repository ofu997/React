<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">

  <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
  <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.24.0/babel.js"></script>
  <link rel="stylesheet" href="./styles.css">
</head>
  <body>
    <div id="root"></div>
    <script type="text/babel">

    //import "./styles.css";

    class Button extends React.Component{
      render(){
          return (
            <div>
                  <button style = {{color: this.props.correct? 'red': 'blue', width: "200px", visibility:this.props.start? "hidden": "visible", borderWidth:'1px', borderColor: "gold", borderRadius: "10px", margin:"5px 5px"}}
                  >
                  <h2>{this.props.name}</h2>
                  </button>
              <br/>
            </div>

          )
      }
    }

    class App extends React.Component{
      constructor(props){
        super(props)
        this.state={showStart:1,number1: Math.floor((Math.random()*50)+1)
          , number2: Math.floor((Math.random()*50)+1), randomNumberBetween1and5:1, question:"", answer:"",wrong1:"",wrong2:"",wrong3:"",wrong4:"",nextQuestion:0,quit:0,orderArray:[]};
          this.Calculate=this.Calculate.bind(this);
      }

      Calculate(x,y){
        this.setState({number1:Math.floor((Math.random()*50)+1)})
        this.setState({number2:Math.floor((Math.random()*50)+1)})
        this.setState({randomNumberBetween1and5:1})

        function Operation1(a, b) {
          return (Math.sqrt((a * a) + (b * b)).toFixed(2));
        }
        function Operation2(a,b){
          return ((a-b)*(a-b));
        }
        function Operation3(a){
          return Math.pow(a,2)
        }
        function Operation4(a,b){
          return ((a/b).toFixed(2));
        }
        function Operation5(a,b){
          return a*b
        }

          if (this.state.randomNumberBetween1and5==1){
            this.setState({question:"What is  the hypotenuse of a right triangle with sides of length " + this.state.number1 + " and " + this.state.number2 + "?"})
            var newAnswer= Operation1(x,y)
            var tempWrong1=Operation2(x,y)
            var tempWrong2=Operation3(x,y)
            var tempWrong3=Operation4(x,y)
            var tempWrong4=Operation5(x,y)

            var tempArray=[newAnswer,tempWrong1,tempWrong2,tempWrong3,tempWrong4]

            this.setState({orderArray : tempArray.sort(function(a, b){return 0.5 - Math.random()})})
          }
          else if (this.state.randomNumberBetween1and5==2 && y>x){
            this.setState({question:"What is ("+this.state.number1+" -"+this.state.number2+") squared?"})

            var newAnswer= Operation2(x,y)
          }
          else if (this.state.randomNumberBetween1and5==3){
            this.setState({question:"What is "+this.state.number1+" squared?"})

            var newAnswer=Operation3(x)
          }
          else if (this.state.randomNumberBetween1and5==4){
            this.setState({question:"What is " + this.state.number1 + " divided by " + this.state.number2 + "?"})

            var newAnswer=Operation4(x,y)
          }
          else{
            this.setState({question:"What is " + this.state.number1 + " X " + this.state.number2 + "?"})

            var newAnswer= Operation5(x,y)
          }

          this.setState({answer:newAnswer})
          this.setState({wrong1:tempWrong1})
          this.setState({wrong2:tempWrong2})
          this.setState({wrong3:tempWrong3})
          this.setState({wrong4:tempWrong4})

          this.setState({showStart:0})
          this.setState({nextQuestion:1})
        }

        render(){
          return(
            <div>

              <button style={this.state.showStart? {}:{display:"none"}} onClick={()=>{this.Calculate(this.state.number1,this.state.number2)}}>Start</button>

              <h2>{this.state.question}</h2>

              <Button className="choices" start={this.state.showStart} correct={this.state.orderArray[0]==this.state.answer} name={this.state.orderArray[0]}/>
              <Button className="choices" start={this.state.showStart} correct={this.state.orderArray[1]==this.state.answer} name={this.state.orderArray[1]}/>
              <Button className="choices" start={this.state.showStart} correct={this.state.orderArray[2]==this.state.answer} name={this.state.orderArray[2]}/>
              <Button className="choices" start={this.state.showStart} correct={this.state.orderArray[3]==this.state.answer} name={this.state.orderArray[3]}/>
              <Button className="choices" start={this.state.showStart} correct={this.state.orderArray[4]==this.state.answer} name={this.state.orderArray[4]}/>
              <br/>
              <button style={this.state.nextQuestion? {}:{display:"none"}} onClick={()=>{this.Calculate(this.state.number1,this.state.number2)}}>Next Question</button>
            </div>
          )
        }
    }

    ReactDOM.render(
      <App/>,
      document.getElementById("root")
    )
    </script>
  </body>
</html>
